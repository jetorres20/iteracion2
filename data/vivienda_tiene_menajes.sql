CREATE TABLE VIVIENDA_TIENE_MENAJES 
(
  IDVIVIENDA NUMBER NOT NULL 
, IDMENAJE NUMBER NOT NULL 
, CANTIDAD NUMBER NOT NULL 
, VALORUNIDAD NUMBER NOT NULL 
, CONSTRAINT VIVIENDA_TIENE_MENAJES_PK PRIMARY KEY 
  (
    IDVIVIENDA 
  , IDMENAJE 
  )
  ENABLE 
);

ALTER TABLE VIVIENDA_TIENE_MENAJES
ADD CONSTRAINT VIVIENDA_TIENE_MENAJES_FK1 FOREIGN KEY
(
  IDVIVIENDA 
)
REFERENCES VIVIENDAS
(
  IDRECINTO 
)
ENABLE;

ALTER TABLE VIVIENDA_TIENE_MENAJES
ADD CONSTRAINT VIVIENDA_TIENE_MENAJES_FK2 FOREIGN KEY
(
  IDMENAJE 
)
REFERENCES MENAJES
(
  ID 
)
ENABLE;

ALTER TABLE VIVIENDA_TIENE_MENAJES
ADD CONSTRAINT VIVIENDA_TIENE_MENAJES_CHK1 CHECK 
(CANTIDAD >0)
ENABLE;

ALTER TABLE VIVIENDA_TIENE_MENAJES
ADD CONSTRAINT VIVIENDA_TIENE_MENAJES_CHK2 CHECK 
(VALORUNIDAD>=0)
ENABLE;
