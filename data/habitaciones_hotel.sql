CREATE TABLE HABITACIONES_HOTEL 
(
  IDRECINTO NUMBER NOT NULL 
, IDHOTEL NUMBER NOT NULL 
, NUMERO NUMBER NOT NULL 
, TIPO NUMBER NOT NULL 
, PRECIONOCHE NUMBER NOT NULL 
, CONSTRAINT HABITACIONES_HOTEL_PK PRIMARY KEY 
  (
    IDRECINTO 
  , IDHOTEL 
  )
  ENABLE 
);

ALTER TABLE HABITACIONES_HOTEL
ADD CONSTRAINT HABITACIONES_HOTEL_UK1 UNIQUE 
(
  NUMERO 
)
ENABLE;

ALTER TABLE HABITACIONES_HOTEL
ADD CONSTRAINT HABITACIONES_HOTEL_FK1 FOREIGN KEY
(
  IDRECINTO 
)
REFERENCES RECINTOS
(
  ID 
)
ENABLE;

ALTER TABLE HABITACIONES_HOTEL
ADD CONSTRAINT HABITACIONES_HOTEL_FK2 FOREIGN KEY
(
  IDHOTEL 
)
REFERENCES HOTELES
(
  IDOPERARIO 
)
ENABLE;

ALTER TABLE HABITACIONES_HOTEL
ADD CONSTRAINT CHKTIPOHABITACION CHECK 
(TIPO IN ('sencilla','semisuit','suit'))
ENABLE;

ALTER TABLE HABITACIONES_HOTEL
ADD CONSTRAINT CHK_PRECIOPOSITIVO CHECK 
(PRECIONOCHE>0)
ENABLE;
