CREATE TABLE HABITACIONES_HOSTAL 
(
  IDRECINTO NUMBER NOT NULL 
, IDHOSTAL NUMBER NOT NULL 
, COMPARTIDA NUMBER NOT NULL 
, BANIOCOMPARTIDO NUMBER NOT NULL 
, NUMERO NUMBER NOT NULL 
, PRECIONOCHE NUMBER NOT NULL 
, CAPACIDADDISPONIBLE NUMBER NOT NULL 
, CONSTRAINT HABITACIONES_HOSTAL_PK PRIMARY KEY 
  (
    IDRECINTO 
  , IDHOSTAL 
  )
  ENABLE 
);

ALTER TABLE HABITACIONES_HOSTAL
ADD CONSTRAINT HABITACIONES_HOSTAL_FK1 FOREIGN KEY
(
  IDRECINTO 
)
REFERENCES RECINTOS
(
  ID 
)
ENABLE;

ALTER TABLE HABITACIONES_HOSTAL
ADD CONSTRAINT HABITACIONES_HOSTAL_FK2 FOREIGN KEY
(
  IDRECINTO 
)
REFERENCES HOSTALES
(
  IDOPERARIO 
)
ENABLE;

ALTER TABLE HABITACIONES_HOSTAL
ADD CONSTRAINT CHKCAPACIDADNONEGATIVA CHECK 
(CAPACIDADDISPONIBLE>=0)
ENABLE;

ALTER TABLE HABITACIONES_HOSTAL
ADD CONSTRAINT CHKCOMPARTIDA CHECK 
(compartida in (0,1))
ENABLE;

ALTER TABLE HABITACIONES_HOSTAL
ADD CONSTRAINT CHKPRECIOPOSITIVO CHECK 
(PRECIONOCHE>0)
ENABLE;

ALTER TABLE HABITACIONES_HOSTAL
ADD CONSTRAINT HABITACIONES_HOSTAL_CHK1 CHECK 
(BANIOCOMPARTIDO IN (0,1))
ENABLE;
